<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>代办事项</title>
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
    <style>
        .status-created {
            color: black;
        }

        .status-finished {
            color: gray;
            text-decoration: line-through;
        }
    </style>
</head>

<body>
    <ul class="ul"></ul>
    <script>
        $.get("http://api.dodaily.cn/time/tasks", function (result) {
            console.log(result);
            for (var i = 0; i < result.length; i++) {
                var elem = result[i];
                var statusClass;
                if (elem.status == 0) {
                    statusClass = " class = 'status-created'";
                }
                else if (elem.status == 1) {
                    statusClass = " class = 'status-finished'";
                }
                var taskSteps = elem.taskSteps;
                var taskStepsString = "";

                for (var j = 0; j < taskSteps.length; j++) {
                    taskStepsString += taskSteps[j].content + ",";
                }
                if(taskSteps.length>0){
                    taskStepsString = taskStepsString.substring(0, taskStepsString.length - 1);
                    taskStepsString = "( "+taskStepsString +")";
                }
                var li = "<li" + statusClass + ">" + elem.content + taskStepsString + "</li>";
                $("ul").append(li);
            }
        })
    </script>
</body>

</html>